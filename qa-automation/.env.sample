# qa-automation/.env.sample
# Environment Configuration Template for n8n QA Automation
#
# Copy this file to .env in the root of your n8n project (if running locally)
# or use these variables to configure your Render.com service environment.
# For Render.com, it's recommended to use Environment Groups for secrets.
# This sample assumes an Environment Group named 'n8n-qa-secrets' as per render.yaml.

#-----------------------------------------------
# CORE N8N CONFIGURATION
#-----------------------------------------------
# n8n Host (Render sets this automatically, e.g., your-app.onrender.com)
# N8N_HOST=your-app.onrender.com

# n8n Port (Render sets PORT automatically, n8n will use it)
# N8N_PORT=5678
# PORT=5678 # Set by Render

# n8n Protocol (should be https when deployed)
N8N_PROTOCOL=https

# Webhook URL (Base URL for webhooks, Render sets this to N8N_HOST)
# WEBHOOK_URL=https://your-app.onrender.com

# Encryption key for credentials stored by n8n (MUST be a random 32-character string)
# Store in Render Environment Group: n8n-qa-secrets
N8N_ENCRYPTION_KEY=replace_with_a_32_character_random_string

# Timezone for scheduled workflows and date/time operations within n8n
GENERIC_TIMEZONE=UTC

#-----------------------------------------------
# TELEGRAM BOT CONFIGURATION
#-----------------------------------------------
# Your Telegram Bot token (obtained from BotFather)
# Store in Render Environment Group: n8n-qa-secrets
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Optional: Comma-separated list of numeric Telegram Chat IDs allowed to interact with the bot.
# If empty or not set, the bot might be open to more users (depending on workflow logic).
# Store in Render Environment Group: n8n-qa-secrets (mark as optional if not always used)
TELEGRAM_ALLOWED_CHAT_IDS=123456789,987654321

# Optional: Telegram Admin Username (for notifications or special commands, if implemented)
# TELEGRAM_ADMIN_USERNAME=your_telegram_admin_username

#-----------------------------------------------
# DEEPSEEK API CONFIGURATION
#-----------------------------------------------
# Your DeepSeek API key for code generation
# Store in Render Environment Group: n8n-qa-secrets
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# DeepSeek API URL (default is the official API endpoint)
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions

# DeepSeek model to use (deepseek-coder is recommended for Cypress code generation)
DEEPSEEK_MODEL=deepseek-coder

# Temperature setting for DeepSeek API (lower = more deterministic, higher = more creative)
# Recommended: 0.2-0.3 for consistent test code generation
DEEPSEEK_TEMPERATURE=0.2

#-----------------------------------------------
# CYPRESS TEST CONFIGURATION
#-----------------------------------------------
# Base URL for the application under test (AUT)
# This is the website that Cypress will test
# Store in Render Environment Group: n8n-qa-secrets
CYPRESS_BASE_URL=https://your-application-under-test.com

# Optional: Basic Auth credentials if your AUT requires them
# Format: username:password
# Store in Render Environment Group: n8n-qa-secrets (mark as optional)
# CYPRESS_BASIC_AUTH=username:password

# Optional: Custom headers for Cypress HTTP requests (JSON string)
# Example: {"Authorization":"Bearer token","Custom-Header":"Value"}
# Store in Render Environment Group: n8n-qa-secrets (mark as optional)
# CYPRESS_HEADERS='{"Authorization":"Bearer your_token_here"}'  

# Cypress viewport dimensions
CYPRESS_VIEWPORT_WIDTH=1280
CYPRESS_VIEWPORT_HEIGHT=800

# Test timeouts (milliseconds)
CYPRESS_DEFAULT_COMMAND_TIMEOUT=15000
CYPRESS_PAGE_LOAD_TIMEOUT=60000
CYPRESS_REQUEST_TIMEOUT=20000

# Test retries (number of retries on failure)
CYPRESS_RETRIES=1

#-----------------------------------------------
# DOCKER & RESOURCE CONFIGURATION
#-----------------------------------------------
# Memory limit for Cypress container (bytes)
# 2GB = 2147483648, 4GB = 4294967296
CYPRESS_MEMORY_LIMIT=4294967296

# CPU limit for Cypress container (number of CPUs)
CYPRESS_CPU_LIMIT=2

# Docker container name prefix
DOCKER_CONTAINER_PREFIX=n8n-qa-

# Docker network name
DOCKER_NETWORK=n8n-qa-network

# Docker image for Cypress tests
CYPRESS_DOCKER_IMAGE=cypress/included:12.17.1

#-----------------------------------------------
# STORAGE & REPORTING CONFIGURATION
#-----------------------------------------------
# Directory for test reports (relative to project root)
REPORT_DIR=./qa-automation/reports

# Directory for test logs (relative to project root)
LOG_DIR=./qa-automation/logs

# Directory for test screenshots (relative to project root)
SCREENSHOT_DIR=./qa-automation/screenshots

# Directory for test videos (relative to project root)
VIDEO_DIR=./qa-automation/videos

# Maximum number of reports to keep (older reports will be deleted)
MAX_REPORTS=50

# Maximum age of reports in days (older reports will be deleted)
MAX_REPORT_AGE_DAYS=30

#-----------------------------------------------
# NOTIFICATION CONFIGURATION
#-----------------------------------------------
# Enable/disable Telegram notifications for test results
ENABLE_TELEGRAM_NOTIFICATIONS=true

# Enable/disable email notifications for test results
ENABLE_EMAIL_NOTIFICATIONS=false

# Email configuration (if email notifications are enabled)
# Store in Render Environment Group: n8n-qa-secrets (mark as optional)
# EMAIL_SMTP_HOST=smtp.example.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=your_email@example.com
# EMAIL_SMTP_PASSWORD=your_email_password
# EMAIL_FROM=your_email@example.com
# EMAIL_TO=recipient1@example.com,recipient2@example.com

#-----------------------------------------------
# ADVANCED CONFIGURATION
#-----------------------------------------------
# Debug mode (enables additional logging)
DEBUG_MODE=false

# Test execution timeout in seconds (0 = no timeout)
TEST_TIMEOUT=300

# Parallel test execution (number of parallel tests, 0 = disabled)
PARALLEL_TESTS=0

# Custom environment variables for Cypress tests
# These will be available in Cypress tests as Cypress.env('VARIABLE_NAME')
# Example: CYPRESS_ENV_CUSTOM_VAR=custom_value

# End of configuration